import{a as b,r as l,u as j,j as e,m as r,L as p,b as N}from"./index-CJCYUz7G.js";import{u as v,E as w,a as q}from"./index.esm-ClqUOG1S.js";const M=()=>{const{setUser:x}=b(),{register:s,handleSubmit:a,setValue:E}=v(),[t,u]=l.useState(1),[m,h]=l.useState({}),[o,y]=l.useState(!1),c=j();l.useEffect(()=>{localStorage.getItem("userToken")&&c("/home")},[c]);const d=n=>{h({...m,...n}),u(t+1)},f=async n=>{const g={...m,...n};try{const i=await N.post("https://hacknocturne-medipal.onrender.com/v1/registerdoc",g);if(i.data.success)localStorage.setItem("userToken",i.data.token),x(i.data.user),c("/home",{replace:!0});else throw new Error("Username or Email already exists")}catch(i){console.error(i.message||"Something went wrong!")}};return e.jsx("div",{className:"flex flex-col items-center justify-center bg-gray-100",children:e.jsxs(r.div,{className:"bg-white shadow-lg rounded-lg flex w-full max-w-5xl p-5 min-h-[80vh] my-3 relative",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1},children:[e.jsxs("div",{className:"flex w-1/2 justify-center items-center h-full flex-col",children:[t>1&&e.jsx("button",{onClick:()=>u(t-1),className:"bg-indigo-600 font-bold text-white py-1 px-5 rounded-full absolute left-3 top-3 hover:cursor-pointer",children:"Back"}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Welcome to MediPal"}),e.jsx("img",{src:"/illustrations/patientReg.svg",alt:"Medicine Illustration",className:"my-auto"})]}),e.jsxs("div",{className:"w-full md:w-1/2 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:t===1?"Basic Details":t===2?"Credentials":t===3?"Availablity Details":"Verification"}),e.jsx("hr",{className:"mb-4"}),t===1&&e.jsxs(r.form,{onSubmit:a(d),className:"space-y-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{children:e.jsx("input",{type:"text",...s("name"),required:!0,placeholder:"Enter your name",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",...s("age",{min:1,max:120}),required:!0,placeholder:"Enter your age",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("select",{...s("gender"),required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"M",children:"Male"}),e.jsx("option",{value:"F",children:"Female"})]})]}),e.jsx("input",{type:"email",...s("email"),required:!0,placeholder:"Enter your email",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("div",{children:e.jsx("input",{type:"tel",...s("phone",{pattern:/^[0-9]{10}$/}),required:!0,placeholder:"Enter your Contact",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",placeholder:"Password",...s("password",{required:"Password is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-3 flex items-center text-gray-600",onClick:()=>y(!o),children:o?e.jsx(w,{}):e.jsx(q,{})})]}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Next"})]}),t===2&&e.jsxs(r.form,{onSubmit:a(d),className:"space-y-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{children:e.jsx("input",{type:"text",id:"mlno",...s("mlno",{required:"Medical License Number is required"}),placeholder:"Medical License Number",className:"input-field"})}),e.jsx("div",{children:e.jsx("input",{type:"text",...s("libody",{required:"Issuing Body is required"}),placeholder:"License Issuing Body",className:"input-field"})}),e.jsx("div",{children:e.jsx("input",{type:"text",...s("specialization",{required:"Specialization is required"}),placeholder:"Specialization",className:"input-field"})}),e.jsx("div",{children:e.jsx("input",{type:"number",...s("yoe",{required:"Years of Experience is required",min:0}),placeholder:"Years of Experience",className:"input-field"})}),e.jsx("div",{children:e.jsx("input",{type:"text",...s("degree",{required:"Medical Degree is required"}),placeholder:"Medical Degree",className:"input-field"})}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Next"})]}),t===3&&e.jsxs(r.form,{onSubmit:a(d),className:"space-y-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{children:e.jsx("input",{type:"text",...s("clinicname"),required:!0,placeholder:"Clinic Name",className:"input-field"})}),e.jsx("div",{children:e.jsx("input",{type:"text",...s("clinicloc"),required:!0,placeholder:"Clinic Location",className:"input-field"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700",children:"Availability (Timings)"}),e.jsx("input",{type:"text",...s("availability"),required:!0,placeholder:"Eg: 10:00 AM - 12:00 PM, 2:00 PM - 4:00 PM",className:"input-field"})]}),e.jsx("div",{children:e.jsx("input",{type:"number",...s("fee"),required:!0,placeholder:"Consultation Fee (in INR)",className:"input-field"})}),e.jsx("div",{children:e.jsx("input",{type:"text",...s("language"),required:!0,placeholder:"Enter known languages (Eg: English, Hindi)",className:"input-field"})}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Next"})]}),t===4&&e.jsxs(r.form,{onSubmit:a(f),className:"space-y-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{children:e.jsx("input",{type:"text",...s("aadhar",{required:"Aadhar number is required",pattern:/^[0-9]{12}$/}),placeholder:"Enter your Aadhar Number",className:"input-field"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...s("tnc",{required:"You must accept the terms and conditions"}),className:"mr-2"}),e.jsxs("label",{className:"text-gray-700",children:["I accept the ",e.jsx(p,{to:"/terms",className:"text-blue-600",children:"Terms and Conditions"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...s("consent",{required:"You must give consent"}),className:"mr-2"}),e.jsx("label",{className:"text-gray-700",children:"I give my consent for data usage"})]}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Register"})]}),e.jsxs("p",{className:"text-center mt-4",children:["Already registered? ",e.jsx(p,{to:"/login",className:"text-blue-600",children:"Sign in"})]})]})]})})};export{M as default};
